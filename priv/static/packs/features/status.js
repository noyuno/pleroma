webpackJsonp([18,33],{150:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n(2),a=n.n(i),o=n(1),s=n.n(o),r=n(3),l=n.n(r),c=n(4),d=n.n(c),u=n(0),p=n.n(u),h=n(10),f=n.n(h),g=function(e){function t(){var n,i,a;s()(this,t);for(var o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=i=l()(this,e.call.apply(e,[this].concat(r))),i.handleClick=function(){i.props.onClick()},a=n,l()(i,a)}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.type,i=e.active,o=e.columnHeaderId,s="";return t&&(s=a()("i",{className:"fa fa-fw fa-"+t+" column-header__icon"})),a()("h1",{className:f()("column-header",{active:i}),id:o||null},void 0,a()("button",{onClick:this.handleClick},void 0,s,n))},t}(p.a.PureComponent)},154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return R});var i,a,o,s,r,l=n(2),c=n.n(l),d=n(1),u=n.n(d),p=n(3),h=n.n(p),f=n(4),g=n.n(f),m=n(0),v=n.n(m),b=n(8),y=(n.n(b),n(23)),_=n(6),M=n(35),C=n(10),k=n.n(C),O=n(12),j=Object(_.f)({toggle_visible:{id:"media_gallery.toggle_visible",defaultMessage:"Toggle visibility"}}),I=(a=i=function(e){function t(){var n,i,a;u()(this,t);for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=i=h()(this,e.call.apply(e,[this].concat(s))),i.handleMouseEnter=function(e){i.hoverToPlay()&&e.target.play()},i.handleMouseLeave=function(e){i.hoverToPlay()&&(e.target.pause(),e.target.currentTime=0)},i.handleClick=function(e){var t=i.props,n=t.index,a=t.onClick;0===e.button&&(e.preventDefault(),a(n)),e.stopPropagation()},a=n,h()(i,a)}return g()(t,e),t.prototype.hoverToPlay=function(){var e=this.props.attachment;return!O.a&&"gifv"===e.get("type")},t.prototype.render=function(){var e=this.props,t=e.attachment,n=e.index,i=e.size,a=e.standalone,o=50,s=100,r="auto",l="auto",d="auto",u="auto";1===i&&(o=100),(4===i||3===i&&n>0)&&(s=50),2===i?0===n?u="2px":l="2px":3===i?(0===n?u="2px":n>0&&(l="2px"),1===n?d="2px":n>1&&(r="2px")):4===i&&(0!==n&&2!==n||(u="2px"),1!==n&&3!==n||(l="2px"),n<2?d="2px":r="2px");var p="";if("image"===t.get("type")){var h=t.get("preview_url"),f=t.getIn(["meta","small","width"]),g=t.get("url"),m=t.getIn(["meta","original","width"]),v="number"==typeof m&&"number"==typeof f,b=v?g+" "+m+"w, "+h+" "+f+"w":null,y=v?"(min-width: 1025px) "+o/100*320+"px, "+o+"vw":null,_=t.getIn(["meta","focus","x"])||0,C=t.getIn(["meta","focus","y"])||0,j=100*(_/2+.5),I=100*(C/-2+.5);p=c()("a",{className:"media-gallery__item-thumbnail",href:t.get("remote_url")||g,onClick:this.handleClick,target:"_blank"},void 0,c()("img",{src:h,srcSet:b,sizes:y,alt:t.get("description"),title:t.get("description"),style:{objectPosition:j+"% "+I+"%"}}))}else if("gifv"===t.get("type")){var R=!Object(M.a)()&&O.a;p=c()("div",{className:k()("media-gallery__gifv",{autoplay:R})},void 0,c()("video",{className:"media-gallery__item-gifv-thumbnail","aria-label":t.get("description"),role:"application",src:t.get("url"),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,autoPlay:R,loop:!0,muted:!0}),c()("span",{className:"media-gallery__gifv__label"},void 0,"GIF"))}return c()("div",{className:k()("media-gallery__item",{standalone:a}),style:{left:l,top:r,right:u,bottom:d,width:o+"%",height:s+"%"}},t.get("id"),p)},t}(v.a.PureComponent),i.defaultProps={standalone:!1,index:0,size:1},a),R=Object(_.g)((r=s=function(e){function t(){var n,i,a;u()(this,t);for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=i=h()(this,e.call.apply(e,[this].concat(s))),i.state={visible:!i.props.sensitive||O.f},i.handleOpen=function(){i.setState({visible:!i.state.visible})},i.handleClick=function(e){i.props.onOpenMedia(i.props.media,e)},i.handleRef=function(e){e&&i.setState({width:e.offsetWidth})},a=n,h()(i,a)}return g()(t,e),t.prototype.componentWillReceiveProps=function(e){Object(b.is)(e.media,this.props.media)||this.setState({visible:!e.sensitive})},t.prototype.isStandaloneEligible=function(){var e=this.props,t=e.media;return e.standalone&&1===t.size&&t.getIn([0,"meta","small","aspect"])},t.prototype.render=function(){var e=this,t=this.props,n=t.media,i=t.intl,a=t.sensitive,o=t.height,s=this.state,r=s.width,l=s.visible,d=void 0,u={};if(this.isStandaloneEligible()?r&&(u.height=r/this.props.media.getIn([0,"meta","small","aspect"])):u.height=r?r/(16/9):o,l){var p=n.take(4).size;d=this.isStandaloneEligible()?c()(I,{standalone:!0,onClick:this.handleClick,attachment:n.get(0)}):n.take(4).map(function(t,n){return c()(I,{onClick:e.handleClick,attachment:t,index:n,size:p},t.get("id"))})}else{var h=void 0;h=a?c()(_.b,{id:"status.sensitive_warning",defaultMessage:"Sensitive content"}):c()(_.b,{id:"status.media_hidden",defaultMessage:"Media hidden"}),d=v.a.createElement("button",{type:"button",className:"media-spoiler",onClick:this.handleOpen,style:u,ref:this.handleRef},c()("span",{className:"media-spoiler__warning"},void 0,h),c()("span",{className:"media-spoiler__trigger"},void 0,c()(_.b,{id:"status.sensitive_toggle",defaultMessage:"Click to view"})))}return v.a.createElement("div",{className:"media-gallery",style:u,ref:this.handleRef},c()("div",{className:k()("spoiler-button",{"spoiler-button--visible":l})},void 0,c()(y.a,{title:i.formatMessage(j.toggle_visible),icon:l?"eye":"eye-slash",overlay:!0,onClick:this.handleOpen})),d)},t}(v.a.PureComponent),s.defaultProps={standalone:!1},o=r))||o},283:function(e,t,n){"use strict";function i(){return function(e,t){e(a()),Object(h.a)(t).get("/api/v1/mutes").then(function(t){var n=Object(h.b)(t).refs.find(function(e){return"next"===e.rel});e(Object(g.g)(t.data)),e(o(t.data,n?n.uri:null)),e(Object(f.y)(t.data.map(function(e){return e.id})))}).catch(function(t){return e(s(t))})}}function a(){return{type:v}}function o(e,t){return{type:b,accounts:e,next:t}}function s(e){return{type:y,error:e}}function r(){return function(e,t){var n=t().getIn(["user_lists","mutes","next"]);null!==n&&(e(l()),Object(h.a)(t).get(n).then(function(t){var n=Object(h.b)(t).refs.find(function(e){return"next"===e.rel});e(Object(g.g)(t.data)),e(c(t.data,n?n.uri:null)),e(Object(f.y)(t.data.map(function(e){return e.id})))}).catch(function(t){return e(d(t))}))}}function l(){return{type:_}}function c(e,t){return{type:M,accounts:e,next:t}}function d(e){return{type:C,error:e}}function u(e){return function(t){t({type:k,account:e}),t(Object(m.d)("MUTE"))}}function p(){return function(e){e({type:O})}}t.b=i,t.a=r,t.c=u,t.d=p;var h=n(13),f=n(22),g=n(15),m=n(26),v="MUTES_FETCH_REQUEST",b="MUTES_FETCH_SUCCESS",y="MUTES_FETCH_FAIL",_="MUTES_EXPAND_REQUEST",M="MUTES_EXPAND_SUCCESS",C="MUTES_EXPAND_FAIL",k="MUTES_INIT_MODAL",O="MUTES_TOGGLE_HIDE_NOTIFICATIONS"},284:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n(2),a=n.n(i),o=n(1),s=n.n(o),r=n(3),l=n.n(r),c=n(4),d=n.n(c),u=n(34),p=n.n(u),h=n(0),f=n.n(h),g=n(150),m=n(90),v=n(35),b=function(e){function t(){var n,i,a;s()(this,t);for(var o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=i=l()(this,e.call.apply(e,[this].concat(r))),i.handleHeaderClick=function(){var e=i.node.querySelector(".scrollable");e&&(i._interruptScrollAnimation=Object(m.b)(e))},i.handleScroll=p()(function(){void 0!==i._interruptScrollAnimation&&i._interruptScrollAnimation()},200),i.setRef=function(e){i.node=e},a=n,l()(i,a)}return d()(t,e),t.prototype.scrollTop=function(){var e=this.node.querySelector(".scrollable");e&&(this._interruptScrollAnimation=Object(m.b)(e))},t.prototype.render=function(){var e=this.props,t=e.heading,n=e.icon,i=e.children,o=e.active,s=e.hideHeadingOnMobile,r=t&&(!s||s&&!Object(v.b)(window.innerWidth)),l=r&&t.replace(/ /g,"-"),c=r&&a()(g.a,{icon:n,active:o,type:t,onClick:this.handleHeaderClick,columnHeaderId:l});return f.a.createElement("div",{ref:this.setRef,role:"region","aria-labelledby":l,className:"column",onScroll:this.handleScroll},c,i)},t}(f.a.PureComponent)},286:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i,a,o=n(2),s=n.n(o),r=n(1),l=n.n(r),c=n(3),d=n.n(c),u=n(4),p=n.n(u),h=n(0),f=n.n(h),g=n(6),m=n(5),v=n.n(m),b=(a=i=function(e){function t(){var n,i,a;l()(this,t);for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=i=d()(this,e.call.apply(e,[this].concat(s))),i.handleClick=function(){window.history&&1===window.history.length?i.context.router.history.push("/"):i.context.router.history.goBack()},a=n,d()(i,a)}return p()(t,e),t.prototype.render=function(){return s()("button",{onClick:this.handleClick,className:"column-back-button"},void 0,s()("i",{className:"fa fa-fw fa-chevron-left column-back-button__icon"}),s()(g.b,{id:"column_back_button.label",defaultMessage:"Back"}))},t}(f.a.PureComponent),i.contextTypes={router:v.a.object},a)},287:function(e,t,n){"use strict";function i(e,t){return function(n){n({type:h,account:e,status:t}),n(Object(p.d)("REPORT"))}}function a(e,t){return{type:v,statusId:e,checked:t}}function o(){return function(e,t){e(s()),Object(u.a)(t).post("/api/v1/reports",{account_id:t().getIn(["reports","new","account_id"]),status_ids:t().getIn(["reports","new","status_ids"]),comment:t().getIn(["reports","new","comment"]),forward:t().getIn(["reports","new","forward"])}).then(function(t){e(Object(p.c)()),e(r(t.data))}).catch(function(t){return e(l(t))})}}function s(){return{type:f}}function r(e){return{type:g,report:e}}function l(e){return{type:m,error:e}}function c(e){return{type:b,comment:e}}function d(e){return{type:y,forward:e}}t.c=i,t.e=a,t.d=o,t.a=c,t.b=d;var u=n(13),p=n(26),h="REPORT_INIT",f="REPORT_SUBMIT_REQUEST",g="REPORT_SUBMIT_SUCCESS",m="REPORT_SUBMIT_FAIL",v="REPORT_STATUS_TOGGLE",b="REPORT_COMMENT_CHANGE",y="REPORT_FORWARD_CHANGE"},288:function(e,t,n){"use strict";var i=n(2),a=n.n(i),o=n(0),s=(n.n(o),n(9)),r=n(152),l=n(67),c=n(18),d=n(68),u=n(22),p=n(91),h=n(283),f=n(287),g=n(26),m=n(6),v=n(12),b=(n(36),Object(m.f)({deleteConfirm:{id:"confirmations.delete.confirm",defaultMessage:"Delete"},deleteMessage:{id:"confirmations.delete.message",defaultMessage:"Are you sure you want to delete this status?"},blockConfirm:{id:"confirmations.block.confirm",defaultMessage:"Block"}})),y=function(){var e=Object(l.e)();return function(t,n){return{status:e(t,n.id)}}},_=function(e,t){var n=t.intl;return{onReply:function(t,n){e(Object(c.T)(t,n))},onModalReblog:function(t){e(Object(d.l)(t))},onReblog:function(t,n){t.get("reblogged")?e(Object(d.n)(t)):n.shiftKey||!v.b?this.onModalReblog(t):e(Object(g.d)("BOOST",{status:t,onReblog:this.onModalReblog}))},onFavourite:function(t){e(t.get("favourited")?Object(d.m)(t):Object(d.i)(t))},onDelete:function(t){e(v.e?Object(g.d)("CONFIRM",{message:n.formatMessage(b.deleteMessage),confirm:n.formatMessage(b.deleteConfirm),onConfirm:function(){return e(Object(p.f)(t.get("id")))}}):Object(p.f)(t.get("id")))},onDirect:function(t,n){e(Object(c.N)(t,n))},onMention:function(t,n){e(Object(c.R)(t,n))},onOpenMedia:function(t,n){e(Object(g.d)("MEDIA",{media:t,index:n}))},onOpenVideo:function(t,n){e(Object(g.d)("VIDEO",{media:t,time:n}))},onBlock:function(t){e(Object(g.d)("CONFIRM",{message:a()(m.b,{id:"confirmations.block.message",defaultMessage:"Are you sure you want to block {name}?",values:{name:a()("strong",{},void 0,"@",t.get("acct"))}}),confirm:n.formatMessage(b.blockConfirm),onConfirm:function(){return e(Object(u.q)(t.get("id")))}}))},onReport:function(t){e(Object(f.c)(t.get("account"),t))},onMute:function(t){e(Object(h.c)(t))},onMuteConversation:function(t){e(t.get("muted")?Object(p.k)(t.get("id")):Object(p.i)(t.get("id")))},onToggleHidden:function(t){e(t.get("hidden")?Object(p.j)(t.get("id")):Object(p.h)(t.get("id")))}}};t.a=Object(m.g)(Object(s.connect)(y,_)(r.a))},335:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i,a,o=n(2),s=n.n(o),r=n(1),l=n.n(r),c=n(3),d=n.n(c),u=n(4),p=n.n(u),h=n(0),f=n.n(h),g=n(8),m=n.n(g),v=n(336),b=n.n(v),y=n(10),_=n.n(y),M=function(e){return e.split(".").map(function(e){return 0===e.indexOf("xn--")?b.a.decode(e.slice("xn--".length)):e}).join(".")},C=function(e){var t=document.createElement("a");return t.href=e,t.hostname},k=function(e,t){var n=e.indexOf(" ",t);return-1===n?e:e.substring(0,n)+(e.length>t?"…":"")},O=new DOMParser,j=function(e){var t=O.parseFromString(e,"text/html").documentElement,n=t.querySelector("iframe");return n?(-1!==n.src.indexOf("?")?n.src+="&":n.src+="?",n.src+="autoplay=1&auto_play=1",t.querySelector("body").innerHTML):e},I=(a=i=function(e){function t(){var n,i,a;l()(this,t);for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=i=d()(this,e.call.apply(e,[this].concat(s))),i.state={width:280,embedded:!1},i.handlePhotoClick=function(){var e=i.props,t=e.card;(0,e.onOpenMedia)(m.a.fromJS([{type:"image",url:t.get("embed_url"),description:t.get("title"),meta:{original:{width:t.get("width"),height:t.get("height")}}}]),0)},i.handleEmbedClick=function(){"photo"===i.props.card.get("type")?i.handlePhotoClick():i.setState({embedded:!0})},i.setRef=function(e){e&&i.setState({width:e.offsetWidth})},a=n,d()(i,a)}return p()(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.card!==e.card&&this.setState({embedded:!1})},t.prototype.renderVideo=function(){var e=this.props.card,t={__html:j(e.get("html"))},n=this.state.width,i=e.get("width")/e.get("height"),a=e.get("width")>e.get("height")?n/i:n*i;return f.a.createElement("div",{ref:this.setRef,className:"status-card__image status-card-video",dangerouslySetInnerHTML:t,style:{height:a}})},t.prototype.render=function(){var e=this.props,t=e.card,n=e.maxDescription,i=this.state,a=i.width,o=i.embedded;if(null===t)return null;var r=0===t.get("provider_name").length?M(C(t.get("url"))):t.get("provider_name"),l=t.get("width")>t.get("height")&&t.get("width")+100>=a||"link"!==t.get("type"),c=_()("status-card",{horizontal:l}),d="link"!==t.get("type"),u=d?s()("a",{className:"status-card__title",href:t.get("url"),title:t.get("title"),rel:"noopener",target:"_blank"},void 0,s()("strong",{},void 0,t.get("title"))):s()("strong",{className:"status-card__title",title:t.get("title")},void 0,t.get("title")),p=t.get("width")/t.get("height"),h=t.get("width")>t.get("height")?a/p:a*p,g=s()("div",{className:"status-card__content"},void 0,u,!l&&s()("p",{className:"status-card__description"},void 0,k(t.get("description")||"",n)),s()("span",{className:"status-card__host"},void 0,r)),m="",v=s()("div",{style:{backgroundImage:"url("+t.get("image")+")",width:l?a:null,height:l?h:null},className:"status-card__image-image"});if(d){if(o)m=this.renderVideo();else{var b="play";"photo"===t.get("type")&&(b="search-plus"),m=s()("div",{className:"status-card__image"},void 0,v,s()("div",{className:"status-card__actions"},void 0,s()("div",{},void 0,s()("button",{onClick:this.handleEmbedClick},void 0,s()("i",{className:"fa fa-"+b})),s()("a",{href:t.get("url"),target:"_blank",rel:"noopener"},void 0,s()("i",{className:"fa fa-external-link"})))))}return f.a.createElement("div",{className:c,ref:this.setRef},m,g)}return t.get("image")&&(m=s()("div",{className:"status-card__image"},void 0,v)),f.a.createElement("a",{href:t.get("url"),className:c,target:"_blank",rel:"noopener",ref:this.setRef},m,g)},t}(f.a.PureComponent),i.defaultProps={maxDescription:50},a)},336:function(e,t,n){(function(e,i){var a;!function(o){function s(e){throw new RangeError(E[e])}function r(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function l(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(T,"."),i+r(e.split("."),t).join(".")}function c(e){for(var t,n,i=[],a=0,o=e.length;a<o;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<o?(n=e.charCodeAt(a++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--)):i.push(t);return i}function d(e){return r(e,function(e){var t="";return e>65535&&(e-=65536,t+=D(e>>>10&1023|55296),e=56320|1023&e),t+=D(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:M}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function h(e,t,n){var i=0;for(e=n?A(e/j):e>>1,e+=A(e/t);e>S*k>>1;i+=M)e=A(e/S);return A(i+(S+1)*e/(e+O))}function f(e){var t,n,i,a,o,r,l,c,p,f,g=[],m=e.length,v=0,b=R,y=I;for(n=e.lastIndexOf(w),n<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&s("not-basic"),g.push(e.charCodeAt(i));for(a=n>0?n+1:0;a<m;){for(o=v,r=1,l=M;a>=m&&s("invalid-input"),c=u(e.charCodeAt(a++)),(c>=M||c>A((_-v)/r))&&s("overflow"),v+=c*r,p=l<=y?C:l>=y+k?k:l-y,!(c<p);l+=M)f=M-p,r>A(_/f)&&s("overflow"),r*=f;t=g.length+1,y=h(v-o,t,0==o),A(v/t)>_-b&&s("overflow"),b+=A(v/t),v%=t,g.splice(v++,0,b)}return d(g)}function g(e){var t,n,i,a,o,r,l,d,u,f,g,m,v,b,y,O=[];for(e=c(e),m=e.length,t=R,n=0,o=I,r=0;r<m;++r)(g=e[r])<128&&O.push(D(g));for(i=a=O.length,a&&O.push(w);i<m;){for(l=_,r=0;r<m;++r)(g=e[r])>=t&&g<l&&(l=g);for(v=i+1,l-t>A((_-n)/v)&&s("overflow"),n+=(l-t)*v,t=l,r=0;r<m;++r)if(g=e[r],g<t&&++n>_&&s("overflow"),g==t){for(d=n,u=M;f=u<=o?C:u>=o+k?k:u-o,!(d<f);u+=M)y=d-f,b=M-f,O.push(D(p(f+y%b,0))),d=A(y/b);O.push(D(p(d,0))),o=h(n,v,i==a),n=0,++i}++n,++t}return O.join("")}function m(e){return l(e,function(e){return x.test(e)?f(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return N.test(e)?"xn--"+g(e):e})}var b=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof i&&i);var y,_=2147483647,M=36,C=1,k=26,O=38,j=700,I=72,R=128,w="-",x=/^xn--/,N=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=M-C,A=Math.floor,D=String.fromCharCode;y={version:"1.4.1",ucs2:{decode:c,encode:d},decode:f,encode:g,toASCII:v,toUnicode:m},void 0!==(a=function(){return y}.call(t,n,t,e))&&(e.exports=a)}()}).call(t,n(105)(e),n(46))},821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return K});var i,a,o,s,r=n(2),l=n.n(r),c=n(1),d=n.n(c),u=n(3),p=n.n(u),h=n(4),f=n.n(h),g=n(0),m=n.n(g),v=n(9),b=n(5),y=n.n(b),_=n(10),M=n.n(_),C=n(14),k=n.n(C),O=n(91),j=n(868),I=n(991),R=n(993),w=n(284),x=n(68),N=n(18),T=n(22),E=n(283),S=n(287),A=n(67),D=n(151),P=n(286),H=n(69),F=n(288),U=n(26),B=n(6),z=n(11),V=n.n(z),q=n(157),L=(n.n(q),n(12)),W=n(153),G=Object(B.f)({deleteConfirm:{id:"confirmations.delete.confirm",defaultMessage:"Delete"},deleteMessage:{id:"confirmations.delete.message",defaultMessage:"Are you sure you want to delete this status?"},blockConfirm:{id:"confirmations.block.confirm",defaultMessage:"Block"},revealAll:{id:"status.show_more_all",defaultMessage:"Show more for all"},hideAll:{id:"status.show_less_all",defaultMessage:"Show less for all"}}),J=function(){var e=Object(A.e)();return function(t,n){return{status:e(t,n.params.statusId),ancestorsIds:t.getIn(["contexts","ancestors",n.params.statusId]),descendantsIds:t.getIn(["contexts","descendants",n.params.statusId])}}},K=(i=Object(v.connect)(J),Object(B.g)(a=i((s=o=function(e){function t(){var n,i,a;d()(this,t);for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=i=p()(this,e.call.apply(e,[this].concat(s))),i.state={fullscreen:!1},i.handleFavouriteClick=function(e){e.get("favourited")?i.props.dispatch(Object(x.m)(e)):i.props.dispatch(Object(x.i)(e))},i.handleReplyClick=function(e){i.props.dispatch(Object(N.T)(e,i.context.router.history))},i.handleModalReblog=function(e){i.props.dispatch(Object(x.l)(e))},i.handleReblogClick=function(e,t){e.get("reblogged")?i.props.dispatch(Object(x.n)(e)):t.shiftKey||!L.b?i.handleModalReblog(e):i.props.dispatch(Object(U.d)("BOOST",{status:e,onReblog:i.handleModalReblog}))},i.handleDeleteClick=function(e){var t=i.props,n=t.dispatch,a=t.intl;n(L.e?Object(U.d)("CONFIRM",{message:a.formatMessage(G.deleteMessage),confirm:a.formatMessage(G.deleteConfirm),onConfirm:function(){return n(Object(O.f)(e.get("id")))}}):Object(O.f)(e.get("id")))},i.handleDirectClick=function(e,t){i.props.dispatch(Object(N.N)(e,t))},i.handleMentionClick=function(e,t){i.props.dispatch(Object(N.R)(e,t))},i.handleOpenMedia=function(e,t){i.props.dispatch(Object(U.d)("MEDIA",{media:e,index:t}))},i.handleOpenVideo=function(e,t){i.props.dispatch(Object(U.d)("VIDEO",{media:e,time:t}))},i.handleMuteClick=function(e){i.props.dispatch(Object(E.c)(e))},i.handleConversationMuteClick=function(e){e.get("muted")?i.props.dispatch(Object(O.k)(e.get("id"))):i.props.dispatch(Object(O.i)(e.get("id")))},i.handleToggleHidden=function(e){e.get("hidden")?i.props.dispatch(Object(O.j)(e.get("id"))):i.props.dispatch(Object(O.h)(e.get("id")))},i.handleToggleAll=function(){var e=i.props,t=e.status,n=e.ancestorsIds,a=e.descendantsIds,o=[t.get("id")].concat(n.toJS(),a.toJS());t.get("hidden")?i.props.dispatch(Object(O.j)(o)):i.props.dispatch(Object(O.h)(o))},i.handleBlockClick=function(e){var t=i.props,n=t.dispatch,a=t.intl;n(Object(U.d)("CONFIRM",{message:l()(B.b,{id:"confirmations.block.message",defaultMessage:"Are you sure you want to block {name}?",values:{name:l()("strong",{},void 0,"@",e.get("acct"))}}),confirm:a.formatMessage(G.blockConfirm),onConfirm:function(){return n(Object(T.q)(e.get("id")))}}))},i.handleReport=function(e){i.props.dispatch(Object(S.c)(e.get("account"),e))},i.handleHotkeyMoveUp=function(){i.handleMoveUp(i.props.status.get("id"))},i.handleHotkeyMoveDown=function(){i.handleMoveDown(i.props.status.get("id"))},i.handleHotkeyReply=function(e){e.preventDefault(),i.handleReplyClick(i.props.status)},i.handleHotkeyFavourite=function(){i.handleFavouriteClick(i.props.status)},i.handleHotkeyBoost=function(){i.handleReblogClick(i.props.status)},i.handleHotkeyMention=function(e){e.preventDefault(),i.handleMentionClick(i.props.status)},i.handleHotkeyOpenProfile=function(){i.context.router.history.push("/accounts/"+i.props.status.getIn(["account","id"]))},i.handleHotkeyToggleHidden=function(){i.handleToggleHidden(i.props.status)},i.handleMoveUp=function(e){var t=i.props,n=t.status,a=t.ancestorsIds,o=t.descendantsIds;if(e===n.get("id"))i._selectChild(a.size-1);else{var s=a.indexOf(e);-1===s?(s=o.indexOf(e),i._selectChild(a.size+s)):i._selectChild(s-1)}},i.handleMoveDown=function(e){var t=i.props,n=t.status,a=t.ancestorsIds,o=t.descendantsIds;if(e===n.get("id"))i._selectChild(a.size+1);else{var s=a.indexOf(e);-1===s?(s=o.indexOf(e),i._selectChild(a.size+s+2)):i._selectChild(s+1)}},i.setRef=function(e){i.node=e},i.onFullScreenChange=function(){i.setState({fullscreen:Object(W.d)()})},a=n,p()(i,a)}return f()(t,e),t.prototype.componentWillMount=function(){this.props.dispatch(Object(O.g)(this.props.params.statusId))},t.prototype.componentDidMount=function(){Object(W.a)(this.onFullScreenChange)},t.prototype.componentWillReceiveProps=function(e){e.params.statusId!==this.props.params.statusId&&e.params.statusId&&(this._scrolledIntoView=!1,this.props.dispatch(Object(O.g)(e.params.statusId)))},t.prototype._selectChild=function(e){var t=this.node.querySelectorAll(".focusable")[e];t&&t.focus()},t.prototype.renderChildren=function(e){var t=this;return e.map(function(e){return l()(F.a,{id:e,onMoveUp:t.handleMoveUp,onMoveDown:t.handleMoveDown},e)})},t.prototype.componentDidUpdate=function(){if(!this._scrolledIntoView){var e=this.props,t=e.status,n=e.ancestorsIds;if(t&&n&&n.size>0){this.node.querySelectorAll(".focusable")[n.size-1].scrollIntoView(!0),this._scrolledIntoView=!0}}},t.prototype.componentWillUnmount=function(){Object(W.b)(this.onFullScreenChange)},t.prototype.render=function(){var e=void 0,t=void 0,n=this.props,i=n.status,a=n.ancestorsIds,o=n.descendantsIds,s=n.intl,r=this.state.fullscreen;if(null===i)return l()(w.a,{},void 0,l()(P.a,{}),l()(j.a,{}));a&&a.size>0&&(e=l()("div",{},void 0,this.renderChildren(a))),o&&o.size>0&&(t=l()("div",{},void 0,this.renderChildren(o)));var c={moveUp:this.handleHotkeyMoveUp,moveDown:this.handleHotkeyMoveDown,reply:this.handleHotkeyReply,favourite:this.handleHotkeyFavourite,boost:this.handleHotkeyBoost,mention:this.handleHotkeyMention,openProfile:this.handleHotkeyOpenProfile,toggleHidden:this.handleHotkeyToggleHidden};return l()(w.a,{},void 0,l()(H.a,{showBackButton:!0,extraButton:l()("button",{className:"column-header__button",title:s.formatMessage(i.get("hidden")?G.revealAll:G.hideAll),"aria-label":s.formatMessage(i.get("hidden")?G.revealAll:G.hideAll),onClick:this.handleToggleAll,"aria-pressed":i.get("hidden")?"false":"true"},void 0,l()("i",{className:"fa fa-"+(i.get("hidden")?"eye-slash":"eye")}))}),l()(D.a,{scrollKey:"thread"},void 0,m.a.createElement("div",{className:M()("scrollable","detailed-status__wrapper",{fullscreen:r}),ref:this.setRef},e,l()(q.HotKeys,{handlers:c},void 0,l()("div",{className:"focusable",tabIndex:"0"},void 0,l()(I.a,{status:i,onOpenVideo:this.handleOpenVideo,onOpenMedia:this.handleOpenMedia,onToggleHidden:this.handleToggleHidden}),l()(R.a,{status:i,onReply:this.handleReplyClick,onFavourite:this.handleFavouriteClick,onReblog:this.handleReblogClick,onDelete:this.handleDeleteClick,onDirect:this.handleDirectClick,onMention:this.handleMentionClick,onMute:this.handleMuteClick,onMuteConversation:this.handleConversationMuteClick,onBlock:this.handleBlockClick,onReport:this.handleReport}))),t)))},t}(V.a),o.contextTypes={router:y.a.object},o.propTypes={params:y.a.object.isRequired,dispatch:y.a.func.isRequired,status:k.a.map,ancestorsIds:k.a.list,descendantsIds:k.a.list,intl:y.a.object.isRequired},a=s))||a)||a)},868:function(e,t,n){"use strict";var i=n(2),a=n.n(i),o=n(0),s=(n.n(o),n(6)),r=function(){return a()("div",{className:"regeneration-indicator missing-indicator"},void 0,a()("div",{},void 0,a()("div",{className:"regeneration-indicator__label"},void 0,a()(s.b,{id:"missing_indicator.label",tagName:"strong",defaultMessage:"Not found"}),a()(s.b,{id:"missing_indicator.sublabel",defaultMessage:"This resource could not be found"}))))};t.a=r},991:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var i,a,o=n(2),s=n.n(o),r=n(1),l=n.n(r),c=n(3),d=n.n(c),u=n(4),p=n.n(u),h=n(0),f=(n.n(h),n(5)),g=n.n(f),m=n(14),v=n.n(m),b=n(58),y=n(57),_=n(102),M=n(154),C=n(341),k=n(45),O=n(6),j=n(992),I=n(11),R=n.n(I),w=n(74),x=(a=i=function(e){function t(){var n,i,a;l()(this,t);for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=i=d()(this,e.call.apply(e,[this].concat(s))),i.handleAccountClick=function(e){0===e.button&&(e.preventDefault(),i.context.router.history.push("/accounts/"+i.props.status.getIn(["account","id"]))),e.stopPropagation()},i.handleOpenVideo=function(e){i.props.onOpenVideo(i.props.status.getIn(["media_attachments",0]),e)},i.handleExpandedToggle=function(){i.props.onToggleHidden(i.props.status)},a=n,d()(i,a)}return p()(t,e),t.prototype.render=function(){var e=this.props.status.get("reblog")?this.props.status.get("reblog"):this.props.status,t="",n="",i="",a="retweet";if(e.get("media_attachments").size>0)if(e.get("media_attachments").some(function(e){return"unknown"===e.get("type")}))t=s()(C.a,{media:e.get("media_attachments")});else if("video"===e.getIn(["media_attachments",0,"type"])){var o=e.getIn(["media_attachments",0]);t=s()(w.default,{preview:o.get("preview_url"),src:o.get("url"),width:300,height:150,inline:!0,onOpenVideo:this.handleOpenVideo,sensitive:e.get("sensitive")})}else t=s()(M.default,{standalone:!0,sensitive:e.get("sensitive"),media:e.get("media_attachments"),height:300,onOpenMedia:this.props.onOpenMedia});else 0===e.get("spoiler_text").length&&(t=s()(j.a,{onOpenMedia:this.props.onOpenMedia,statusId:e.get("id")}));return e.get("application")&&(n=s()("span",{},void 0," · ",s()("a",{className:"detailed-status__application",href:e.getIn(["application","website"]),target:"_blank",rel:"noopener"},void 0,e.getIn(["application","name"])))),"direct"===e.get("visibility")?a="envelope":"private"===e.get("visibility")&&(a="lock"),i="private"===e.get("visibility")?s()("i",{className:"fa fa-"+a}):s()(k.b,{to:"/statuses/"+e.get("id")+"/reblogs",className:"detailed-status__link"},void 0,s()("i",{className:"fa fa-"+a}),s()("span",{className:"detailed-status__reblogs"},void 0,s()(O.c,{value:e.get("reblogs_count")}))),s()("div",{className:"detailed-status"},void 0,s()("a",{href:e.getIn(["account","url"]),onClick:this.handleAccountClick,className:"detailed-status__display-name"},void 0,s()("div",{className:"detailed-status__display-avatar"},void 0,s()(b.a,{account:e.get("account"),size:48})),s()(y.a,{account:e.get("account")})),s()(_.a,{status:e,expanded:!e.get("hidden"),onExpandedToggle:this.handleExpandedToggle}),t,s()("div",{className:"detailed-status__meta"},void 0,s()("a",{className:"detailed-status__datetime",href:e.get("url"),target:"_blank",rel:"noopener"},void 0,s()(O.a,{value:new Date(e.get("created_at")),hour12:!1,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})),n," · ",i," · ",s()(k.b,{to:"/statuses/"+e.get("id")+"/favourites",className:"detailed-status__link"},void 0,s()("i",{className:"fa fa-star"}),s()("span",{className:"detailed-status__favorites"},void 0,s()(O.c,{value:e.get("favourites_count")})))))},t}(R.a),i.contextTypes={router:g.a.object},i.propTypes={status:v.a.map.isRequired,onOpenMedia:g.a.func.isRequired,onOpenVideo:g.a.func.isRequired,onToggleHidden:g.a.func.isRequired},a)},992:function(e,t,n){"use strict";var i=n(9),a=n(335),o=function(e,t){var n=t.statusId;return{card:e.getIn(["cards",n],null)}};t.a=Object(i.connect)(o)(a.a)},993:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var i,a,o,s=n(2),r=n.n(s),l=n(1),c=n.n(l),d=n(3),u=n.n(d),p=n(4),h=n.n(p),f=n(0),g=n.n(f),m=n(5),v=n.n(m),b=n(23),y=n(303),_=n(6),M=n(12),C=Object(_.f)({delete:{id:"status.delete",defaultMessage:"Delete"},direct:{id:"status.direct",defaultMessage:"Direct message @{name}"},mention:{id:"status.mention",defaultMessage:"Mention @{name}"},reply:{id:"status.reply",defaultMessage:"Reply"},reblog:{id:"status.reblog",defaultMessage:"Boost"},reblog_private:{id:"status.reblog_private",defaultMessage:"Boost to original audience"},cancel_reblog_private:{id:"status.cancel_reblog_private",defaultMessage:"Unboost"},cannot_reblog:{id:"status.cannot_reblog",defaultMessage:"This post cannot be boosted"},favourite:{id:"status.favourite",defaultMessage:"Favourite"},mute:{id:"status.mute",defaultMessage:"Mute @{name}"},muteConversation:{id:"status.mute_conversation",defaultMessage:"Mute conversation"},unmuteConversation:{id:"status.unmute_conversation",defaultMessage:"Unmute conversation"},block:{id:"status.block",defaultMessage:"Block @{name}"},report:{id:"status.report",defaultMessage:"Report @{name}"},share:{id:"status.share",defaultMessage:"Share"},pin:{id:"status.pin",defaultMessage:"Pin on profile"},unpin:{id:"status.unpin",defaultMessage:"Unpin from profile"},embed:{id:"status.embed",defaultMessage:"Embed"}}),k=Object(_.g)((o=a=function(e){function t(){var n,i,a;c()(this,t);for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=i=u()(this,e.call.apply(e,[this].concat(s))),i.handleReplyClick=function(){i.props.onReply(i.props.status)},i.handleReblogClick=function(e){i.props.onReblog(i.props.status,e)},i.handleFavouriteClick=function(){i.props.onFavourite(i.props.status)},i.handleDeleteClick=function(){i.props.onDelete(i.props.status)},i.handleDirectClick=function(){i.props.onDirect(i.props.status.get("account"),i.context.router.history)},i.handleMentionClick=function(){i.props.onMention(i.props.status.get("account"),i.context.router.history)},i.handleMuteClick=function(){i.props.onMute(i.props.status.get("account"))},i.handleConversationMuteClick=function(){i.props.onMuteConversation(i.props.status)},i.handleBlockClick=function(){i.props.onBlock(i.props.status.get("account"))},i.handleReport=function(){i.props.onReport(i.props.status)},i.handlePinClick=function(){i.props.onPin(i.props.status)},i.handleShare=function(){navigator.share({text:i.props.status.get("search_index"),url:i.props.status.get("url")})},i.handleEmbed=function(){i.props.onEmbed(i.props.status)},a=n,u()(i,a)}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.status,n=e.intl,i=["public","unlisted"].includes(t.get("visibility")),a=t.get("muted"),o=[];i&&(o.push({text:n.formatMessage(C.embed),action:this.handleEmbed}),o.push(null)),M.g===t.getIn(["account","id"])?(i?o.push({text:n.formatMessage(t.get("pinned")?C.unpin:C.pin),action:this.handlePinClick}):"private"===t.get("visibility")&&o.push({text:n.formatMessage(t.get("reblogged")?C.cancel_reblog_private:C.reblog_private),action:this.handleReblogClick}),o.push(null),o.push({text:n.formatMessage(a?C.unmuteConversation:C.muteConversation),action:this.handleConversationMuteClick}),o.push(null),o.push({text:n.formatMessage(C.delete),action:this.handleDeleteClick})):(o.push({text:n.formatMessage(C.mention,{name:t.getIn(["account","username"])}),action:this.handleMentionClick}),o.push({text:n.formatMessage(C.direct,{name:t.getIn(["account","username"])}),action:this.handleDirectClick}),o.push(null),o.push({text:n.formatMessage(C.mute,{name:t.getIn(["account","username"])}),action:this.handleMuteClick}),o.push({text:n.formatMessage(C.block,{name:t.getIn(["account","username"])}),action:this.handleBlockClick}),o.push({text:n.formatMessage(C.report,{name:t.getIn(["account","username"])}),action:this.handleReport}));var s="share"in navigator&&"public"===t.get("visibility")&&r()("div",{className:"detailed-status__button"},void 0,r()(b.a,{title:n.formatMessage(C.share),icon:"share-alt",onClick:this.handleShare})),l="retweet";"direct"===t.get("visibility")?l="envelope":"private"===t.get("visibility")&&(l="lock");var c="direct"===t.get("visibility")||"private"===t.get("visibility");return r()("div",{className:"detailed-status__action-bar"},void 0,r()("div",{className:"detailed-status__button"},void 0,r()(b.a,{title:n.formatMessage(C.reply),icon:null===t.get("in_reply_to_id",null)?"reply":"reply-all",onClick:this.handleReplyClick})),r()("div",{className:"detailed-status__button"},void 0,r()(b.a,{disabled:c,active:t.get("reblogged"),title:c?n.formatMessage(C.cannot_reblog):n.formatMessage(C.reblog),icon:l,onClick:this.handleReblogClick})),r()("div",{className:"detailed-status__button"},void 0,r()(b.a,{animate:!0,active:t.get("favourited"),title:n.formatMessage(C.favourite),icon:"star",onClick:this.handleFavouriteClick,activeStyle:{color:"#ca8f04"}})),s,r()("div",{className:"detailed-status__action-bar-dropdown"},void 0,r()(y.a,{size:18,icon:"ellipsis-h",items:o,direction:"left",title:"More"})))},t}(g.a.PureComponent),a.contextTypes={router:v.a.object},i=o))||i}});
//# sourceMappingURL=status.js.map